(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{489:(e,t,a)=>{"use strict";a.d(t,{b:()=>l});var r=a(2115),i=a(7602),s=a(5155),n=r.forwardRef((e,t)=>(0,s.jsx)(i.sG.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null==(a=e.onMouseDown)||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n},1847:(e,t,a)=>{"use strict";a.d(t,{A:()=>l});var r=a(2115);let i=function(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter((e,t,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,t)=>{let{color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:o,className:d="",children:m,iconNode:u,...c}=e;return(0,r.createElement)("svg",{ref:t,...s,width:n,height:n,stroke:a,strokeWidth:o?24*Number(l)/Number(n):l,className:i("lucide",d),...c},[...u.map(e=>{let[t,a]=e;return(0,r.createElement)(t,a)}),...Array.isArray(m)?m:[m]])}),l=(e,t)=>{let a=(0,r.forwardRef)((a,s)=>{let{className:l,...o}=a;return(0,r.createElement)(n,{ref:s,iconNode:t,className:i("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),l),...o})});return a.displayName="".concat(e),a}},1860:(e,t,a)=>{Promise.resolve().then(a.bind(a,5777))},5299:(e,t,a)=>{"use strict";a.d(t,{A:()=>r});let r=(0,a(1847).A)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5777:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>b});var r=a(5155),i=a(2115),s=a(2619),n=a.n(s),l=a(2734),o=a(7003),d=a(6170),m=a(235),u=a(3209);let c="\\u0400-\\u04FF\\u0500-\\u052F\\u2DE0-\\u2DFF\\uA640-\\uA69F\\u1C80-\\u1C8F",h={email:/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,password:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)[a-zA-Z\d@$!%*?&]{8,}$/,name:new RegExp("^[a-zA-Z".concat(c,"\\s\\-']{2,50}$")),city:new RegExp("^[a-zA-Z".concat(c,"\\s\\-.]{2,100}$")),street:new RegExp("^[a-zA-Z".concat(c,"0-9\\s\\-.,']{2,200}$")),building:new RegExp("^[a-zA-Z".concat(c,"0-9\\s\\-.,'/]{1,50}$")),apartmentNumber:/^[a-zA-Z0-9-]{1,20}$/,floor:/^-?[0-9]{1,3}$/,phone:/^[+]?[1-9][\d]{0,15}$/,phoneLastFour:/^[0-9]{4}$/,idLastFour:/^[0-9]{4}$/,landlordName:new RegExp("^[a-zA-Z".concat(c,"\\s\\-.']{2,100}$")),reviewText:new RegExp("^[\\w".concat(c,"\\s.,!?;:\\-'\"$$$$[\\]/&%$#@+=*]{10,5000}$")),rating:/^[1-5]$/,year:new RegExp("^(19[0-9]{2}|20[0-9]{2}|".concat(new Date().getFullYear()+1,")$")),month:/^(1[0-2]|[1-9])$/,numberOfRooms:/^[1-8]$/,searchQuery:new RegExp("^[a-zA-Z".concat(c,"0-9\\s\\-']{1,100}$")),commentText:new RegExp("^[\\w".concat(c,"\\s.,!?;:\\-'\"$$$$[\\]/&%$#@+=*]{1,1000}$")),tenantFullName:new RegExp("^[a-zA-Z".concat(c,"\\s\\-'.]{2,100}$")),url:/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)$/,username:/^[a-zA-Z0-9_-]{3,30}$/,postalCode:/^[a-zA-Z0-9\s-]{3,10}$/,hexColor:/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/},p={isValidEmail:e=>h.email.test(e),isValidPassword:e=>h.password.test(e),isValidName:e=>h.name.test(e),isValidCity:e=>h.city.test(e),isValidStreet:e=>h.street.test(e),isValidBuilding:e=>h.building.test(e),isValidApartmentNumber:e=>h.apartmentNumber.test(e),isValidFloor:e=>h.floor.test(e.toString()),isValidPhone:e=>h.phone.test(e),isValidPhoneLastFour:e=>h.phoneLastFour.test(e),isValidIdLastFour:e=>h.idLastFour.test(e),isValidLandlordName:e=>h.landlordName.test(e),isValidReviewText:e=>h.reviewText.test(e),isValidRating:e=>h.rating.test(e.toString()),isValidYear:e=>h.year.test(e.toString()),isValidMonth:e=>h.month.test(e.toString()),isValidNumberOfRooms:e=>h.numberOfRooms.test(e.toString()),isValidUrl:e=>h.url.test(e),isValidUsername:e=>h.username.test(e),isValidPostalCode:e=>h.postalCode.test(e),isValidHexColor:e=>h.hexColor.test(e),isValidTenantFullName:e=>h.tenantFullName.test(e),isValidSearchQuery:e=>h.searchQuery.test(e),isValidCommentText:e=>h.commentText.test(e)},g={sanitizeEmail:e=>"string"!=typeof e?"":e.trim().toLowerCase().substring(0,254)},x={email:{required:"Email обязателен",invalid:"Пожалуйста, введите корректный email адрес"},password:{required:"Пароль обязателен",invalid:"Пароль должен содержать минимум 8 символов с заглавными буквами, строчными буквами и цифрами",minLength:"Пароль должен содержать минимум 8 символов"},name:{required:"Имя обязательно",invalid:"Имя может содержать только буквы, пробелы, дефисы и апострофы",minLength:"Имя должно содержать минимум 2 символа",maxLength:"Имя не должно превышать 50 символов"},city:{required:"Город обязателен",invalid:"Название города содержит недопустимые символы",minLength:"Название города должно содержать минимум 2 символа",maxLength:"Название города не должно превышать 100 символов"},street:{required:"Улица обязательна",invalid:"Название улицы содержит недопустимые символы",minLength:"Название улицы должно содержать минимум 2 символа",maxLength:"Название улицы не должно превышать 200 символов"},building:{required:"Здание обязательно",invalid:"Название/номер здания содержит недопустимые символы",minLength:"Здание должно содержать минимум 1 символ",maxLength:"Здание не должно превышать 50 символов"},apartmentNumber:{invalid:"Номер квартиры содержит недопустимые символы",maxLength:"Номер квартиры не должен превышать 20 символов"},floor:{invalid:"Этаж должен быть корректным числом"},phoneLastFour:{required:"Последние четыре цифры телефона обязательны",invalid:"Последние четыре цифры телефона должны быть ровно 4 цифрами"},idLastFour:{required:"Последние четыре цифры ID обязательны",invalid:"Последние четыре цифры ID должны быть ровно 4 цифрами"},landlordName:{required:"Имя арендодателя обязательно",invalid:"Имя арендодателя содержит недопустимые символы",minLength:"Имя арендодателя должно содержать минимум 2 символа",maxLength:"Имя арендодателя не должно превышать 100 символов"},reviewText:{required:"Текст отзыва обязателен",invalid:"Текст отзыва содержит недопустимые символы",minLength:"Текст отзыва должен содержать минимум 10 символов",maxLength:"Текст отзыва не должен превышать 5000 символов"},rating:{invalid:"Рейтинг должен быть от 1 до 5"},year:{required:"Год обязателен",invalid:"Пожалуйста, введите корректный год"},month:{required:"Месяц обязателен",invalid:"Пожалуйста, выберите корректный месяц"},numberOfRooms:{required:"Количество комнат обязательно",invalid:"Количество комнат должно быть от 1 до 8"},tenantFullName:{required:"Полное имя арендатора обязательно",invalid:"Полное имя арендатора содержит недопустимые символы",minLength:"Полное имя арендатора должно содержать минимум 2 символа",maxLength:"Полное имя арендатора не должно превышать 100 символов"},commentText:{required:"Текст комментария обязателен",invalid:"Текст комментария содержит недопустимые символы",minLength:"Комментарий должен содержать минимум 1 символ",maxLength:"Комментарий не должен превышать 1000 символов"},searchQuery:{invalid:"Поисковый запрос содержит недопустимые символы",maxLength:"Поисковый запрос не должен превышать 100 символов"}},w=function(e,t){let a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=x[t];if(a&&(!e||""===e.trim()))return r&&"required"in r?r.required:"This field is required";if(!e||""===e.trim())return null;let i=p["isValid".concat(t.charAt(0).toUpperCase()+t.slice(1))];return i&&!i(e)?r.invalid||"Invalid format":null};var v=a(63),f=a(5016),A=a(9675);function $(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}function b(){let[e,t]=(0,i.useState)({email:"",password:""}),[a,s]=(0,i.useState)({}),[c,h]=(0,i.useState)(!1),[p,x]=(0,i.useState)(null),{login:b}=(0,l.A)();(0,v.useRouter)();let N={email:{type:"email",required:!0},password:{type:"password",required:!0}},L=async t=>{t.preventDefault();let a={email:g.sanitizeEmail(e.email),password:e.password},r=((e,t)=>{let a={};for(let[r,i]of Object.entries(t)){let t=w(e[r],i.type,i.required);t&&(a[r]=t)}return a})(a,N);if(Object.keys(r).length>0)return void s(r);s({}),h(!0),x(null),$()&&(console.log("Mobile browser detected:",navigator.userAgent),console.log("Cookies enabled:",navigator.cookieEnabled));try{await b(a.email,a.password)}catch(e){$()&&(console.error("Mobile login error:",e),x("Ошибка входа на мобильном устройстве. Проверьте, разрешены ли cookies в вашем браузере. Если проблема сохраняется, попробуйте использовать другой браузер или обновить страницу."))}finally{h(!1)}},y=e=>{let{name:r,value:i}=e.target;t(e=>({...e,[r]:i})),a[r]&&s(e=>({...e,[r]:""})),p&&x(null)};return(0,r.jsx)("div",{className:"max-w-md mx-auto mt-16",children:(0,r.jsxs)(u.Zp,{children:[(0,r.jsxs)(u.aR,{children:[(0,r.jsx)(u.ZB,{children:"Вход"}),(0,r.jsx)(u.BT,{children:"Введите ваши учетные данные для доступа к аккаунту"})]}),(0,r.jsxs)(u.Wu,{children:[(0,r.jsxs)("form",{onSubmit:L,className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"email",children:"Email"}),(0,r.jsx)(d.p,{id:"email",name:"email",type:"email",value:e.email,onChange:y,required:!0,autoComplete:"username",inputMode:"email",className:a.email?"border-red-500":""}),a.email&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:a.email})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)(m.J,{htmlFor:"password",children:"Пароль"}),(0,r.jsx)(d.p,{id:"password",name:"password",type:"password",value:e.password,onChange:y,required:!0,autoComplete:"current-password",className:a.password?"border-red-500":""}),a.password&&(0,r.jsx)("p",{className:"text-sm text-red-600",children:a.password})]}),p&&(0,r.jsx)("div",{className:"text-sm text-orange-600 bg-orange-50 rounded p-2",children:p}),(0,r.jsx)(o.$,{type:"submit",className:"w-full",disabled:c,children:c?"Вход...":"Войти"})]}),(0,r.jsx)(A.g,{onError:e=>x(e),className:"mt-6"}),(0,r.jsxs)("div",{className:"mt-4 text-center text-sm",children:["Нет аккаунта? ",(0,r.jsx)(n(),{href:(0,f.Y)("/register"),className:"text-blue-600 hover:underline",children:"Зарегистрироваться"})]})]})]})})}}},e=>{e.O(0,[783,812,619,250,441,255,358],()=>e(e.s=1860)),_N_E=e.O()}]);